name: "ðŸ¦– update license-reports"

on:
  push:
    branches:
      - "main"

jobs:
  license-report-pr:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ§º checkout
        uses: actions/checkout@v3
      - name: ðŸ“Œ npm install
        run: npm ci --prefer-offline --no-audit
      - name: ðŸ¦– generate report
        run: npx license-checker-rseidelsohn --markdown > LICENSES.md
      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v4
        with:
          commit-message: "chore: update license report"
          title: "chore: update license report"
          body: "# ðŸ¦–"
          base: main
          branch: cloud-update-advanced-params
          delete-branch: true